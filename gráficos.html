<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <title>Gráficos</title>
    <link rel="stylesheet" href="dashboardStyle.css" />
    <link rel="stylesheet" href="graficos.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- ------------------------------------------------------------------ HEADER --------------------------------------------------------------- -->
    <div class="header">
      <div class="logo">
        <a href="dashboardIndex.html"><h1>SaveBlood</h1></a>
      </div>
    </div>
    <!-- ------------------------------------------------------------- FIM DA HEADER ---------------------------------------------------- ------- -->

    <div class="tudo">
      <!-- tudo ksksk -->
      <!-- ------------------------------------------------------   div da esquerda ----------------------------------------------------------- -->

      <div class="parteEsquerda">
        <div class="lista">
          <span>ESTOQUES</span>

          <div class="estoque"><a href="gráficos.html">Estoque Norte</a></div>
          <div class="estoque"><a href="gráficos.html">Estoque Leste</a></div>
          <div class="estoque"><a href="gráficos.html">Estoque Sul</a></div>
          <div class="estoque"><a href="gráficos.html">Estoque Oeste</a></div>
        </div>
      </div>

      <!-- ------------------------------------------------------ fim div da esquerda ---------------------------------------------------------- -->

      <!-- ------------------------------------------------------------- sensores ---------------------------------------------------------------- -->

      <div class="espaço_sensores">
        <!-- sensor 1 -->
        <div id="sensorDiv" class="container_sensor">
          
          <div class="metadeCima" style="margin-top: -20xp;">
            <!--div com a metade de cima (imagem e dados) -->
            <div class="sensor">
              <!--imagem do sensor-->
              <img src="images/lm35.png" width="100%" />
            </div>

            <div class="dadosSensores">
              <a href="sensor.html">
              <span class="identificação corAlt"> Sensor #1012</span>
            </a>
              <span class="geladeira corAlt2"> Geladeira: 012</span>
              <div class="status">
                <span>status:</span> <span id="joinha">&#128077;</span>
              </div>
            </div>
          </div>

          <div class="metadeBaixo">
            <!--div com a metade de baixo (status e temperatura) -->
            <div class="grafico_linha" style="height: 100%; width: 70%">
              <canvas id="myChart"></canvas>
            </div>

            <input class="container_sensor_input"
              type="text"
              value="4.2"
              id="temperaturaValor"
              onkeyup="funcao()"
            />
          </div>
        </div>

        <!-- sensor 2 -->
        <div class="container_sensor">
          <div class="metadeCima">
            <!--div com a metade de cima (imagem e dados) -->
            <div class="sensor">
              <!--imagem do sensor-->
              <img src="images/lm35.png" width="100%" />
            </div>

            <div class="dadosSensores">
              <span  id="corDados" class="identificação corAlt"> Sensor #1013</span>
              <span  id="corDados" class="geladeira corAlt2"> Geladeira: 013</span>
              <div class="status">
                <span>status:</span> <span id="joinha">&#128077;</span>
              </div>
            </div>
          </div>

          <div class="metadeBaixo">
            <!--div com a metade de baixo (status e temperatura) -->
            <div class="grafico_linha" style="height: 100%; width: 70%">
              <canvas id="myChart2"></canvas>
            </div>

            <input  class="container_sensor_input" id="temperaturaValor" onkeyup="funcao()" type="text" value="2,3" />
          </div>
        </div>

        <!-- sensor 3 -->
        <div id="sensorDiv" class="container_sensor">
          <div class="metadeCima">
            <!--div com a metade de cima (imagem e dados) -->
            <div class="sensor">
              <!--imagem do sensor-->
              <img src="images/lm35.png" width="100%" />
            </div>

            <div class="dadosSensores">
              <span   id="corDados" class="identificação corAlt"> Sensor #1014</span>
              <span   id="corDados" class="geladeira corAlt2"> Geladeira: 014</span>
              <div class="status">
                <span>status:</span> <span id="joinha">&#128077;</span>
              </div>
            </div>
          </div>

          <div class="metadeBaixo">
            <!--div com a metade de baixo (status e temperatura) -->
            <div class="grafico_linha" style="height: 100%; width: 70%">
              <canvas id="myChart3"></canvas>
            </div>

            <input  class="container_sensor_input" type="text" value="3,2" id="temperaturaValor" onkeyup="funcao()"/>
          </div>
        </div>

        <!-- sensor 4 -->
        <div class="container_sensor">
          <div class="metadeCima">
            <!--div com a metade de cima (imagem e dados) -->
            <div class="sensor">
              <!--imagem do sensor-->
              <img src="images/lm35.png" width="100%" />
            </div>

            <div class="dadosSensores">
              <span   id="corDados" class="identificação corAlt"> Sensor #1015</span>
              <span   id="corDados" class="geladeira corAlt2"> Geladeira: 015</span>
              <div class="status">
                <span>status:</span> <span id="joinha">&#128077;</span>
              </div>
            </div>
          </div>

          <div class="metadeBaixo">
            <!--div com a metade de baixo (status e temperatura) -->
            <div class="grafico_linha" style="height: 100%; width: 70%">
              <canvas id="myChart4"></canvas>
            </div>

            <input  class="container_sensor_input" type="text" value="2,2" />
          </div>
        </div>

        <!-- sensor 5 -->
        <div class="container_sensor">
          <div class="metadeCima">
            <!--div com a metade de cima (imagem e dados) -->
            <div class="sensor">
              <!--imagem do sensor-->
              <img src="images/lm35.png" width="100%" />
            </div>

            <div class="dadosSensores">
              <span   id="corDados" class="identificação corAlt"> Sensor #1016</span>
              <span   id="corDados" class="geladeira corAlt2"> Geladeira: 016</span>
              <div class="status">
                <span>status:</span> <span id="joinha">&#128077;</span>
              </div>
            </div>
          </div>

          <div class="metadeBaixo">
            <!--div com a metade de baixo (status e temperatura) -->
            <div class="grafico_linha" style="height: 100%; width: 70%">
              <canvas id="myChart5"></canvas>
            </div>

            <input  class="container_sensor_input" type="text" value="3,4" />
          </div>
        </div>
      </div>
    </div>

  </body>
</html>

<script>
  const ctx = document.getElementById("myChart");

  new Chart(ctx, {
    type: "line",
    data: {
      labels: ["12:00", "13:00", "14:00", "15:00"],
      datasets: [
        {
          label: "temp",
          borderColor: "rgba(255, 99, 131, 1)",
          backgroundColor: "rgba(255, 99, 131, 1)",
          data: [2, 3, 3, 4],
          borderWidth: 2,
        },
      ],
    },
    options: {
      scales: {
        y: {
          max: 6,
          beginAtZero: true,
        },
      },
    },
  });

  const ctx2 = document.getElementById("myChart2");

  new Chart(ctx2, {
    type: "line",
    data: {
      labels: ["12:00", "13:00", "14:00", "15:00"],
      datasets: [
        {
          label: "temp",
          borderColor: "rgba(79, 131, 226, 1)",
          backgroundColor: "rgba(79, 131, 226, 1)",
          data: [5, 2, 5, 2],
          borderWidth: 2,
        },
      ],
    },
    options: {
      scales: {
        y: {
          max: 6,
          beginAtZero: true,
        },
      },
    },
  });

  const ctx3 = document.getElementById("myChart3");

  new Chart(ctx3, {
    type: "line",
    data: {
      labels: ["12:00", "13:00", "14:00", "15:00"],
      datasets: [
        {
          label: "temp",
          borderColor: "rgba(223, 163, 0, 1)",
          backgroundColor: "rgba(223, 163, 0, 1)",
          data: [2, 5, 2, 3],
          borderWidth: 2,
        },
      ],
    },
    options: {
      scales: {
        y: {
          max: 6,
          beginAtZero: true,
        },
      },
    },
  });

  const ctx4 = document.getElementById("myChart4");

  new Chart(ctx4, {
    type: "line",
    data: {
      labels: ["12:00", "13:00", "14:00", "15:00"],
      datasets: [
        {
          label: "temp",
          borderColor: "rgba(91, 48, 104, 1)",
          backgroundColor: "rgba(91, 48, 104, 1)",
          data: [2, 4, 5, 2],
          borderWidth: 2,
        },
      ],
    },
    options: {
      scales: {
        y: {
          max: 6,
          beginAtZero: true,
        },
      },
    },
  });

  const ctx5 = document.getElementById("myChart5");

  new Chart(ctx5, {
    type: "line",
    data: {
      labels: ["12:00", "13:00", "14:00", "15:00"],
      datasets: [
        {
          label: "temp",
          borderColor: "rgba(30, 129, 80, 1)",
          backgroundColor: "rgba(30, 129, 80, 1)",
          data: [5, 3, 3, 2],
          borderWidth: 2,
        },
      ],
    },
    options: {
      scales: {
        y: {
          max: 6,
          beginAtZero: true,
        },
      },
    },
  });
</script>

<script>
function funcao() {
    var sensor = document.querySelector(".container_sensor");
    var temp = document.getElementById("temperaturaValor");
    var cor = document.querySelector(".corAlt")
    var cor2 = document.querySelector(".corAlt2");
    var corInput = document.querySelector(".container_sensor_input")
    var status = document.querySelector(".status");
    var joia = document.getElementById("joinha");

    if (temp.value >= 6 || temp.value <= 2) {
      sensor.style.backgroundColor = '#ff0022';
      sensor.style.borderColor = "#3b1111";
      cor.style.backgroundColor = "#3b1111";
      cor2.style.backgroundColor = "#3b1111";
      corInput.style.backgroundColor = "#ff0022";
      status.style.backgroundColor = "#ff0022";
      status.style.color = "#3b1111";
      joia.innerHTML = "&#9888;";
    }
    else if (temp.value >= 5.5 || temp.value <= 2.5) {
      sensor.style.backgroundColor = '#ffc342';
      sensor.style.borderColor = "#ee8742";
      cor.style.backgroundColor = "#86523b";
      cor2.style.backgroundColor = "#86523b";
      corInput.style.backgroundColor = "#ffc342";
      status.style.backgroundColor = "#ffc342";
      joia.innerHTML = "&#10071;";
    }
    else {
      sensor.style.backgroundColor = 'rgb(189, 201, 212);';
    }
  }
  
</script>
